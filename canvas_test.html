<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas API Test</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background-color: #2c3e50;
            color: white;
            font-family: Arial, sans-serif;
            text-align: center;
        }
        canvas {
            background-color: #000;
            border: 2px solid white;
            margin: 20px auto;
            display: block;
        }
        #status {
            margin: 20px;
            padding: 10px;
            background-color: rgba(0,0,0,0.3);
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>Canvas API Test</h1>
    <p>Testing basic Canvas rendering capabilities</p>
    
    <canvas id="gameCanvas" width="800" height="400"></canvas>
    
    <div id="status">Status: Testing Canvas rendering...</div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const canvas = document.getElementById('gameCanvas');
            const status = document.getElementById('status');
            
            // Test if Canvas is supported
            if (!canvas || !canvas.getContext) {
                status.textContent = 'Status: Canvas not supported in this browser';
                status.style.backgroundColor = '#f44336';
                return;
            }
            
            try {
                const ctx = canvas.getContext('2d');
                
                // Background
                ctx.fillStyle = '#87CEEB'; // Sky blue
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Platform
                ctx.fillStyle = '#8B4513'; // Brown
                ctx.fillRect(0, 350, canvas.width, 50);
                
                // Player
                ctx.fillStyle = '#FFD700'; // Gold
                ctx.fillRect(100, 300, 30, 50);
                
                // Text
                ctx.fillStyle = 'white';
                ctx.font = '24px Arial';
                ctx.fillText('Canvas rendering is working!', 50, 50);
                
                // Red enemy
                ctx.fillStyle = 'red';
                ctx.beginPath();
                ctx.arc(300, 325, 15, 0, Math.PI * 2);
                ctx.fill();
                
                // Blue enemy
                ctx.fillStyle = 'blue';
                ctx.beginPath();
                ctx.arc(500, 325, 15, 0, Math.PI * 2);
                ctx.fill();
                
                // Health bar
                ctx.fillStyle = 'white';
                ctx.font = '20px Arial';
                ctx.fillText('Health: 5', 20, 30);
                
                status.textContent = 'Status: Canvas rendering successful';
                status.style.backgroundColor = '#4CAF50';
                
                // Add animation to show that rendering is dynamic
                let x = 700;
                let y = 325;
                let dx = -1;
                
                function animate() {
                    // Clear part of the canvas
                    ctx.clearRect(650, 300, 150, 50);
                    
                    // Draw animated object
                    ctx.fillStyle = 'purple';
                    ctx.beginPath();
                    ctx.arc(x, y, 15, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Update position
                    x += dx;
                    if (x <= 650 || x >= 780) dx = -dx;
                    
                    requestAnimationFrame(animate);
                }
                
                animate();
                
            } catch (error) {
                status.textContent = 'Status: Error in Canvas rendering: ' + error.message;
                status.style.backgroundColor = '#f44336';
                console.error('Canvas rendering error:', error);
            }
        });
    </script>
</body>
</html> 